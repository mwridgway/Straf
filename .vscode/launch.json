{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug StrafAgent (Default: Vosk + WASAPI)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${workspaceFolder}/build/Debug/StrafAgent.exe",
      "cwd": "${workspaceFolder}",
      "environment": [
        { "name": "STRAF_USE_SAMPLE_CONFIG", "value": "1" },
        { "name": "STRAF_STT", "value": "vosk" },
        { "name": "STRAF_AUDIO_SOURCE", "value": "wasapi" },
        { "name": "STRAF_VOSK_MODEL", "value": "C:/models/vosk-model-small-en-us-0.15" },
        { "name": "PATH", "value": "C:/tools/vosk;${env:PATH}" },
        { "name": "STRAF_OVERLAY_STYLE", "value": "classic" }
      ],
      "preLaunchTask": "cmake: build",
      "stopAtEntry": false
    },
    {
      "name": "Debug StrafAgent (SAPI + WASAPI)",
      "type": "cppvsdbg",
      "request": "launch", 
      "program": "${workspaceFolder}/build/Debug/StrafAgent.exe",
      "cwd": "${workspaceFolder}",
      "environment": [
        { "name": "STRAF_USE_SAMPLE_CONFIG", "value": "1" },
        { "name": "STRAF_STT", "value": "sapi" },
        { "name": "STRAF_AUDIO_SOURCE", "value": "wasapi" },
        { "name": "STRAF_OVERLAY_STYLE", "value": "classic" }
      ],
      "preLaunchTask": "cmake: build",
      "stopAtEntry": false
    },
    {
      "name": "Debug StrafAgent (Silent Audio - No Mic)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${workspaceFolder}/build/Debug/StrafAgent.exe", 
      "cwd": "${workspaceFolder}",
      "environment": [
        { "name": "STRAF_USE_SAMPLE_CONFIG", "value": "1" },
        { "name": "STRAF_STT", "value": "stub" },
        { "name": "STRAF_AUDIO_SOURCE", "value": "silent" },
        { "name": "STRAF_OVERLAY_STYLE", "value": "classic" }
      ],
      "preLaunchTask": "cmake: build",
      "stopAtEntry": false
    },
    {
      "name": "Attach to StrafAgent",
      "type": "cppvsdbg",
      "request": "attach",
      "processId": "${command:pickProcess}"
    }
  ]
}
